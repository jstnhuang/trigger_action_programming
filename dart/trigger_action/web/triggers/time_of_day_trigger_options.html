<!-- import polymer-element's definition -->
<link rel="import" href="packages/polymer/polymer.html">
<link rel="import" href="packages/core_elements/core_selector.html">
<link rel="import" href="packages/paper_elements/paper_input_decorator.html">
<link rel="import" href="packages/paper_elements/paper_checkbox.html">
<link rel="import" href="packages/paper_elements/paper_dropdown.html">
<link rel="import" href="packages/paper_elements/paper_dropdown_menu.html">
<link rel="import" href="packages/paper_elements/paper_item.html">
<link rel="import" href="time_picker.html">

<polymer-element name="time-of-day-trigger-options">
  <template>
    <style>
      .label {
        font-size: 1.25em;
        line-height: 1.5em;
        color: #555;
        margin-right: 0.5em;
      }
      paper-dropdown-menu #label {
        color: #03A9F4;
      }
      paper-dropdown-menu /deep/ #label {
        color: #03A9F4;
      }
      paper-dropdown-menu {
        font-size: 1.25em;
        height: 1.5em;
        margin: 0px;
        padding: 0px;
        margin-right: 0.5em;
      }
      #timePicker {
        padding: 0px;
        margin: 0px;
        color: #03A9F4;
      }
      .time-options {
        margin-top: 10px;
        margin-bottom: 10px;
      }
      .day + .day {
        margin-left: 10px;
      }
      .day paper-checkbox {
        margin-bottom: 10px;
      }
      paper-checkbox[disabled] #checkboxContainer > #checkbox {
        opacity: 1;
      }
      paper-checkbox[disabled] /deep/ #checkboxContainer > #checkbox {
        opacity: 1;
      }
      paper-checkbox[checked] #checkboxContainer > #checkbox {
        border-color: #0f9d58;
      }
      paper-checkbox[checked] /deep/ #checkboxContainer > #checkbox {
        border-color: #0f9d58;
      }
    </style>
    <div>
      <div layout horizontal class="time-options">
        <span class="label">Time</span>
        <paper-dropdown-menu disabled="{{readOnly}}">
          <paper-dropdown class="dropdown" duration="200">
            <core-selector valueattr="label" selected="{{model.beforeOrAfter}}" class="menu">
              <paper-item label="is">is</paper-item>
              <paper-item label="is before">is before</paper-item>
              <paper-item label="is after">is after</paper-item>
            </core-selector>
          </paper-dropdown>
        </paper-dropdown-menu>
        <!-- input type="time" is not supported on some browsers. -->
        <!--paper-input-decorator-->
          <!-- Weird bug where the time input is disabled even disabled="false" -->
          <!--template if="{{readOnly}}">
            <input id="timeInput" is="core-input" type="time" value="{{timeString}}"
              data-hour="{{hour}}"
              data-minute="{{minute}}"
              on-change="{{handleTimeChange}}"
              disabled="{{readOnly}}">
          </template>
          <template if="{{!readOnly}}">
            <input id="timeInput" is="core-input" type="time" value="{{timeString}}"
              data-hour="{{hour}}"
              data-minute="{{minute}}"
              on-change="{{handleTimeChange}}">
          </template>
        </paper-input-decorator-->
        <time-picker id="timePicker" hour="{{model.hour}}" minute="{{model.minute}}" disabled="{{readOnly}}" isValid="{{model.timeIsValid}}"></time-picker>
      </div>
      <div horizontal layout class="days" data-days="{{model.days}}">
        <div vertical center layout class="day">
          <paper-checkbox checked?="{{sunday}}" on-change="{{toggleDay}}" id="sunday" disabled="{{readOnly}}"></paper-checkbox>
          Sunday
        </div>
        <div vertical center layout class="day">
          <paper-checkbox checked?="{{monday}}" on-change="{{toggleDay}}" id="monday" disabled="{{readOnly}}"></paper-checkbox>
          Monday
        </div>
        <div vertical center layout class="day">
          <paper-checkbox checked?="{{tuesday}}" on-change="{{toggleDay}}" id="tuesday" disabled="{{readOnly}}"></paper-checkbox>
          Tuesday
        </div>
        <div vertical center layout class="day">
          <paper-checkbox checked?="{{wednesday}}" on-change="{{toggleDay}}" id="wednesday" disabled="{{readOnly}}"></paper-checkbox>
          Wednesday
        </div>
        <div vertical center layout class="day">
          <paper-checkbox checked?="{{thursday}}" on-change="{{toggleDay}}" id="thursday" disabled="{{readOnly}}"></paper-checkbox>
          Thursday
        </div>
        <div vertical center layout class="day">
          <paper-checkbox checked?="{{friday}}" on-change="{{toggleDay}}" id="friday" disabled="{{readOnly}}"></paper-checkbox>
          Friday
        </div>
        <div vertical center layout class="day">
          <paper-checkbox checked?="{{saturday}}" on-change="{{toggleDay}}" id="saturday" disabled="{{readOnly}}"></paper-checkbox>
          Saturday
        </div>
      </div>
    </div>
  </template>
  <script type="application/dart" src="time_of_day_trigger.dart"></script>
</polymer-element>
