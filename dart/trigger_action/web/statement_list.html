<!-- import polymer-element's definition -->
<link rel="import" href="packages/polymer/polymer.html">
<link rel="import" href="packages/paper_elements/paper_toast.html">
<link rel="import" href="statement_card.html">

<polymer-element name="statement-list">
  <template>
    <style>
      .uncreated-card {
        margin-top: 20px;
        padding: 20px;
        background: white;
        box-sizing: border-box;
        width: 100%;
        border-radius: 2px;
        border: 5px dashed grey;
        text-align: center;
        font-size: 1.5em;
      }
      .uncreated-card a {
        color: #03A9F4;
        text-decoration: none;
        cursor: pointer;
      }
      .uncreated-card a:hover {
        text-decoration: underline;
      }
      h1 {
        font-size: 1.5em;
      }
    </style>
    <div>
      <h1>Current rules</h1>
      <div id="rulelist">
        <template repeat="{{statement in statements}}">
          <statement-card
            ros="{{ros}}"
            isNew="{{statement.isNew}}"
            id="{{statement.id}}"
            parentList="{{statements}}"
            trigger_name="{{statement.trigger_name}}"
            trigger_params="{{statement.trigger_params}}"
            action_name="{{statement.action_name}}"
            action_params="{{statement.action_params}}"
            opened="{{!statement.isNew}}">
          </statement-card>
        </template>
      </div>
      <div class="uncreated-card">
        <a on-click="{{createRule}}">Create a new rule</a>
      </div>
      <paper-toast id="toast" text="Updated rule"></paper-toast>
    </div>
  </template>
  <script type="application/dart" src="statement_list.dart"></script>
</polymer-element>
